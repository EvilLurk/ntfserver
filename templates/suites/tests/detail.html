{% extends "suites/tests/index.html" %}

{% block head_title %}{{ test.name }} - {% parent %}{% endblock %}

{% block content %}
<div class="page-header"><h1>{{ test.name }}</h1></div>
<div id="chart"></div>
<script>
new Rickshaw.Graph.JSONP({
  element: document.querySelector('#chart'),
  dataURL: '/reports/test-duration?test_id=' + {{ test.id }},
  width: 580,
  height: 250,
  onData: function(result) {
    return [{
      name: 'Duration (ms)',
      color: 'steelblue',
      data: result.data.map(function(d) { return { x: parseInt(d.time / 1000), y: d.duration } })
    }];
  },
  onComplete: function(transport) {
    var graph = transport.graph;
    var detail = new Rickshaw.Graph.HoverDetail({ graph: graph });
  }
});
</script>
{% endblock %}
